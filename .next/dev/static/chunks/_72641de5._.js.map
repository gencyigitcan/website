{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/yigitcangenc/Github/Antigravity/web/app/actions/admin-management.ts"],"sourcesContent":["'use server'\n\nimport { db } from '@/lib/db'\nimport { admins } from '@/db/schema'\nimport { eq } from 'drizzle-orm'\nimport bcrypt from 'bcryptjs'\nimport { revalidatePath } from 'next/cache'\n\nexport async function createAdmin(prevState: any, formData: FormData) {\n    const email = formData.get('email') as string\n    const password = formData.get('password') as string\n\n    if (!email || !password) {\n        return { message: 'Email and password are required' }\n    }\n\n    try {\n        const existing = await db.select().from(admins).where(eq(admins.email, email)).get()\n        if (existing) {\n            return { message: 'Admin with this email already exists' }\n        }\n\n        const passwordHash = await bcrypt.hash(password, 10)\n\n        await db.insert(admins).values({\n            email,\n            passwordHash,\n        })\n\n        revalidatePath('/admin/dashboard/admins')\n        return { message: 'Admin created successfully', success: true }\n    } catch (e) {\n        console.error('Create admin error:', e)\n        return { message: 'Failed to create admin' }\n    }\n}\n\nexport async function deleteAdmin(id: string) {\n    try {\n        // Prevent deleting the last admin or \"super admin\" if needed but simplified here\n        const allAdmins = await db.select().from(admins).all()\n        if (allAdmins.length <= 1) {\n            // In server actions, returning simple values is better, but this is a void/redirect usually.\n            // But for a button action we might want feedback. For now simple toggle/delete.\n            // We can't return to the form state easily from a bind action unless we use useFormState there too.\n            // Let's just log and ignore for now or assume risk.\n            return { message: 'Cannot delete the last admin' }\n        }\n\n        await db.delete(admins).where(eq(admins.id, id))\n        revalidatePath('/admin/dashboard/admins')\n        return { success: true }\n    } catch (e) {\n        console.error('Delete admin error:', e)\n        return { message: 'Failed to delete admin' }\n    }\n}\n"],"names":[],"mappings":";;;;;;;IAQsB,cAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/yigitcangenc/Github/Antigravity/web/app/admin/dashboard/admins/CreateAdminForm.tsx"],"sourcesContent":["'use client'\n\nimport { useFormState, useFormStatus } from 'react-dom'\nimport { Plus } from 'lucide-react'\nimport { createAdmin } from '@/app/actions/admin-management'\nimport { useEffect, useRef } from 'react'\n\nfunction SubmitButton() {\n    const { pending } = useFormStatus()\n    return (\n        <button\n            type=\"submit\"\n            disabled={pending}\n            className=\"flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-pink-600 to-rose-600 font-bold text-white shadow-lg hover:shadow-pink-500/30 hover:-translate-y-1 transition-all disabled:opacity-50\"\n        >\n            <Plus size={20} />\n            {pending ? 'Creating...' : 'Create Admin'}\n        </button>\n    )\n}\n\nexport default function CreateAdminForm() {\n    const [state, action] = useFormState(createAdmin, null)\n    const formRef = useRef<HTMLFormElement>(null)\n\n    useEffect(() => {\n        if (state?.success) {\n            formRef.current?.reset()\n        }\n    }, [state?.success])\n\n    return (\n        <form ref={formRef} action={action} className=\"glass-panel p-6 rounded-2xl space-y-4 mb-8\">\n            <h3 className=\"text-lg font-bold text-fg-primary mb-4\">Add New Admin</h3>\n\n            {state?.message && (\n                <div className={`text-sm p-3 rounded-xl border ${state.success ? 'bg-emerald-500/10 border-emerald-500/20 text-emerald-400' : 'bg-red-500/10 border-red-500/20 text-red-400'}`}>\n                    {state.message}\n                </div>\n            )}\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                    <label className=\"block text-xs font-bold uppercase tracking-wide text-fg-muted mb-2\">Email</label>\n                    <input\n                        name=\"email\"\n                        type=\"email\"\n                        required\n                        className=\"w-full input-glass rounded-xl px-4 py-3 outline-none focus:border-pink-500/50 focus:ring-1 focus:ring-pink-500/50 transition-all placeholder:opacity-20\"\n                        placeholder=\"admin@example.com\"\n                    />\n                </div>\n                <div>\n                    <label className=\"block text-xs font-bold uppercase tracking-wide text-fg-muted mb-2\">Password</label>\n                    <input\n                        name=\"password\"\n                        type=\"password\"\n                        required\n                        className=\"w-full input-glass rounded-xl px-4 py-3 outline-none focus:border-pink-500/50 focus:ring-1 focus:ring-pink-500/50 transition-all placeholder:opacity-20\"\n                        placeholder=\"••••••••\"\n                    />\n                </div>\n            </div>\n\n            <div className=\"flex justify-end\">\n                <SubmitButton />\n            </div>\n        </form>\n    )\n}\n"],"names":["c","_c","useFormState","useFormStatus","Plus","createAdmin","useEffect","useRef","SubmitButton","$","$i","Symbol","for","pending","t0","t1","t2","CreateAdminForm","state","action","formRef","success","CreateAdminForm[useEffect()]","current","reset","t3","t4","message","t5","t6","t7"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/plus.js","sources":["file:///Users/yigitcangenc/Github/Antigravity/web/node_modules/lucide-react/src/icons/plus.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('plus', __iconNode);\n\nexport default Plus;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAY,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACzC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAY,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;CAC3C;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,IAAA,CAAA,CAAA,KAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,iKAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}}]
}