{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/yigitcangenc/Github/Antigravity/web/app/actions/auth.ts"],"sourcesContent":["'use server'\n\nimport { db } from '@/lib/db'\nimport { admins } from '@/db/schema'\nimport { eq } from 'drizzle-orm'\nimport bcrypt from 'bcryptjs'\nimport { cookies } from 'next/headers'\nimport { redirect } from 'next/navigation'\n\nexport async function login(prevState: any, formData: FormData) {\n    const email = formData.get('email') as string\n    const password = formData.get('password') as string\n\n    if (!email || !password) {\n        return { message: 'Email and password required' }\n    }\n\n    try {\n        const user = await db.select().from(admins).where(eq(admins.email, email)).get()\n\n        if (!user) {\n            return { message: 'Invalid credentials' }\n        }\n\n        const valid = await bcrypt.compare(password, user.passwordHash)\n\n        if (!valid) {\n            return { message: 'Invalid credentials' }\n        }\n\n        // Set session cookie\n        (await cookies()).set('admin_session', 'true', {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === 'production',\n            sameSite: 'strict',\n            maxAge: 60 * 60 * 24 // 1 day\n        })\n\n    } catch (e) {\n        console.error(e)\n        return { message: 'Internal server error' }\n    }\n\n    redirect('/admin/dashboard')\n}\n\nexport async function logout() {\n    (await cookies()).delete('admin_session')\n    redirect('/admin')\n}\n"],"names":[],"mappings":";;;;;;;IA8CsB,SAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/yigitcangenc/Github/Antigravity/web/components/AdminSidebar.tsx"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport { usePathname } from 'next/navigation'\nimport { LayoutDashboard, Globe, LogOut, Settings, Users } from 'lucide-react'\nimport { logout } from '@/app/actions/auth'\n\nexport default function AdminSidebar() {\n    const pathname = usePathname()\n\n    const isActive = (path: string) => pathname === path\n\n    return (\n        <aside className=\"w-64 border-r border-white/5 bg-black/5 backdrop-blur-xl flex flex-col fixed h-full z-10 hidden md:flex\">\n            <div className=\"p-6 border-b border-white/5\">\n                <Link href=\"/\" className=\"flex items-center gap-2\">\n                    <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-pink-500 flex items-center justify-center text-sm font-bold text-white shadow-lg\">\n                        YG\n                    </div>\n                    <span className=\"font-serif text-lg tracking-wide text-fg-primary\">Admin<span className=\"text-pink-500\">Panel</span></span>\n                </Link>\n            </div>\n\n            <nav className=\"flex-1 p-4 space-y-2\">\n                <Link\n                    href=\"/admin/dashboard\"\n                    className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${isActive('/admin/dashboard')\n                            ? 'bg-white/10 text-fg-primary font-medium border border-white/5 shadow-sm'\n                            : 'hover:bg-white/5 text-fg-secondary hover:text-fg-primary'\n                        }`}\n                >\n                    <LayoutDashboard size={18} className={isActive('/admin/dashboard') ? \"text-indigo-400\" : \"\"} />\n                    Projects\n                </Link>\n\n                <Link\n                    href=\"/admin/dashboard/admins\"\n                    className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${isActive('/admin/dashboard/admins')\n                            ? 'bg-white/10 text-fg-primary font-medium border border-white/5 shadow-sm'\n                            : 'hover:bg-white/5 text-fg-secondary hover:text-fg-primary'\n                        }`}\n                >\n                    <Users size={18} className={isActive('/admin/dashboard/admins') ? \"text-pink-400\" : \"\"} />\n                    Admins\n                </Link>\n\n                <Link\n                    href=\"/admin/dashboard/settings\"\n                    className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${isActive('/admin/dashboard/settings')\n                            ? 'bg-white/10 text-fg-primary font-medium border border-white/5 shadow-sm'\n                            : 'hover:bg-white/5 text-fg-secondary hover:text-fg-primary'\n                        }`}\n                >\n                    <Settings size={18} className={isActive('/admin/dashboard/settings') ? \"text-emerald-400\" : \"\"} />\n                    Site Settings\n                </Link>\n\n                <div className=\"my-4 border-t border-white/5\" />\n\n                <a href=\"/\" target=\"_blank\" className=\"flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/5 text-fg-secondary hover:text-fg-primary transition-all\">\n                    <Globe size={18} />\n                    View Site\n                </a>\n            </nav>\n\n            <div className=\"p-4 border-t border-white/5\">\n                <button\n                    onClick={() => logout()}\n                    className=\"w-full flex items-center gap-2 px-4 py-3 rounded-xl hover:bg-red-500/10 text-red-400 hover:text-red-300 transition-all text-sm font-medium\"\n                >\n                    <LogOut size={16} />\n                    Sign Out\n                </button>\n            </div>\n        </aside>\n    )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AALA;;;;;;AAOe,SAAS;IACpB,MAAM,WAAW,IAAA,iJAAW;IAE5B,MAAM,WAAW,CAAC,OAAiB,aAAa;IAEhD,qBACI,8OAAC;QAAM,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,uKAAI;oBAAC,MAAK;oBAAI,WAAU;;sCACrB,8OAAC;4BAAI,WAAU;sCAA6I;;;;;;sCAG5J,8OAAC;4BAAK,WAAU;;gCAAmD;8CAAK,8OAAC;oCAAK,WAAU;8CAAgB;;;;;;;;;;;;;;;;;;;;;;;0BAIhH,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,uKAAI;wBACD,MAAK;wBACL,WAAW,CAAC,4DAA4D,EAAE,SAAS,sBACzE,4EACA,4DACJ;;0CAEN,8OAAC,+OAAe;gCAAC,MAAM;gCAAI,WAAW,SAAS,sBAAsB,oBAAoB;;;;;;4BAAM;;;;;;;kCAInG,8OAAC,uKAAI;wBACD,MAAK;wBACL,WAAW,CAAC,4DAA4D,EAAE,SAAS,6BACzE,4EACA,4DACJ;;0CAEN,8OAAC,6MAAK;gCAAC,MAAM;gCAAI,WAAW,SAAS,6BAA6B,kBAAkB;;;;;;4BAAM;;;;;;;kCAI9F,8OAAC,uKAAI;wBACD,MAAK;wBACL,WAAW,CAAC,4DAA4D,EAAE,SAAS,+BACzE,4EACA,4DACJ;;0CAEN,8OAAC,sNAAQ;gCAAC,MAAM;gCAAI,WAAW,SAAS,+BAA+B,qBAAqB;;;;;;4BAAM;;;;;;;kCAItG,8OAAC;wBAAI,WAAU;;;;;;kCAEf,8OAAC;wBAAE,MAAK;wBAAI,QAAO;wBAAS,WAAU;;0CAClC,8OAAC,6MAAK;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;;0BAK3B,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBACG,SAAS,IAAM,IAAA,gKAAM;oBACrB,WAAU;;sCAEV,8OAAC,oNAAM;4BAAC,MAAM;;;;;;wBAAM;;;;;;;;;;;;;;;;;;AAMxC"}}]
}