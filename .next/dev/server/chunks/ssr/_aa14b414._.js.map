{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/yigitcangenc/Github/Antigravity/web/app/actions/admin-management.ts"],"sourcesContent":["'use server'\n\nimport { db } from '@/lib/db'\nimport { admins } from '@/db/schema'\nimport { eq } from 'drizzle-orm'\nimport bcrypt from 'bcryptjs'\nimport { revalidatePath } from 'next/cache'\n\nexport async function createAdmin(prevState: any, formData: FormData) {\n    const email = formData.get('email') as string\n    const password = formData.get('password') as string\n\n    if (!email || !password) {\n        return { message: 'Email and password are required' }\n    }\n\n    try {\n        const existing = await db.select().from(admins).where(eq(admins.email, email)).get()\n        if (existing) {\n            return { message: 'Admin with this email already exists' }\n        }\n\n        const passwordHash = await bcrypt.hash(password, 10)\n\n        await db.insert(admins).values({\n            email,\n            passwordHash,\n        })\n\n        revalidatePath('/admin/dashboard/admins')\n        return { message: 'Admin created successfully', success: true }\n    } catch (e) {\n        console.error('Create admin error:', e)\n        return { message: 'Failed to create admin' }\n    }\n}\n\nexport async function deleteAdmin(id: string) {\n    try {\n        // Prevent deleting the last admin or \"super admin\" if needed but simplified here\n        const allAdmins = await db.select().from(admins).all()\n        if (allAdmins.length <= 1) {\n            // In server actions, returning simple values is better, but this is a void/redirect usually.\n            // But for a button action we might want feedback. For now simple toggle/delete.\n            // We can't return to the form state easily from a bind action unless we use useFormState there too.\n            // Let's just log and ignore for now or assume risk.\n            return { message: 'Cannot delete the last admin' }\n        }\n\n        await db.delete(admins).where(eq(admins.id, id))\n        revalidatePath('/admin/dashboard/admins')\n        return { success: true }\n    } catch (e) {\n        console.error('Delete admin error:', e)\n        return { message: 'Failed to delete admin' }\n    }\n}\n"],"names":[],"mappings":";;;;;;;IAQsB,cAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/yigitcangenc/Github/Antigravity/web/app/admin/dashboard/admins/CreateAdminForm.tsx"],"sourcesContent":["'use client'\n\nimport { useFormState, useFormStatus } from 'react-dom'\nimport { Plus } from 'lucide-react'\nimport { createAdmin } from '@/app/actions/admin-management'\nimport { useEffect, useRef } from 'react'\n\nfunction SubmitButton() {\n    const { pending } = useFormStatus()\n    return (\n        <button\n            type=\"submit\"\n            disabled={pending}\n            className=\"flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-pink-600 to-rose-600 font-bold text-white shadow-lg hover:shadow-pink-500/30 hover:-translate-y-1 transition-all disabled:opacity-50\"\n        >\n            <Plus size={20} />\n            {pending ? 'Creating...' : 'Create Admin'}\n        </button>\n    )\n}\n\nexport default function CreateAdminForm() {\n    const [state, action] = useFormState(createAdmin, null)\n    const formRef = useRef<HTMLFormElement>(null)\n\n    useEffect(() => {\n        if (state?.success) {\n            formRef.current?.reset()\n        }\n    }, [state?.success])\n\n    return (\n        <form ref={formRef} action={action} className=\"glass-panel p-6 rounded-2xl space-y-4 mb-8\">\n            <h3 className=\"text-lg font-bold text-fg-primary mb-4\">Add New Admin</h3>\n\n            {state?.message && (\n                <div className={`text-sm p-3 rounded-xl border ${state.success ? 'bg-emerald-500/10 border-emerald-500/20 text-emerald-400' : 'bg-red-500/10 border-red-500/20 text-red-400'}`}>\n                    {state.message}\n                </div>\n            )}\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                    <label className=\"block text-xs font-bold uppercase tracking-wide text-fg-muted mb-2\">Email</label>\n                    <input\n                        name=\"email\"\n                        type=\"email\"\n                        required\n                        className=\"w-full input-glass rounded-xl px-4 py-3 outline-none focus:border-pink-500/50 focus:ring-1 focus:ring-pink-500/50 transition-all placeholder:opacity-20\"\n                        placeholder=\"admin@example.com\"\n                    />\n                </div>\n                <div>\n                    <label className=\"block text-xs font-bold uppercase tracking-wide text-fg-muted mb-2\">Password</label>\n                    <input\n                        name=\"password\"\n                        type=\"password\"\n                        required\n                        className=\"w-full input-glass rounded-xl px-4 py-3 outline-none focus:border-pink-500/50 focus:ring-1 focus:ring-pink-500/50 transition-all placeholder:opacity-20\"\n                        placeholder=\"••••••••\"\n                    />\n                </div>\n            </div>\n\n            <div className=\"flex justify-end\">\n                <SubmitButton />\n            </div>\n        </form>\n    )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,SAAS;IACL,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,6NAAa;IACjC,qBACI,8OAAC;QACG,MAAK;QACL,UAAU;QACV,WAAU;;0BAEV,8OAAC,0MAAI;gBAAC,MAAM;;;;;;YACX,UAAU,gBAAgB;;;;;;;AAGvC;AAEe,SAAS;IACpB,MAAM,CAAC,OAAO,OAAO,GAAG,IAAA,4NAAY,EAAC,qKAAW,EAAE;IAClD,MAAM,UAAU,IAAA,+MAAM,EAAkB;IAExC,IAAA,kNAAS,EAAC;QACN,IAAI,OAAO,SAAS;YAChB,QAAQ,OAAO,EAAE;QACrB;IACJ,GAAG;QAAC,OAAO;KAAQ;IAEnB,qBACI,8OAAC;QAAK,KAAK;QAAS,QAAQ;QAAQ,WAAU;;0BAC1C,8OAAC;gBAAG,WAAU;0BAAyC;;;;;;YAEtD,OAAO,yBACJ,8OAAC;gBAAI,WAAW,CAAC,8BAA8B,EAAE,MAAM,OAAO,GAAG,6DAA6D,gDAAgD;0BACzK,MAAM,OAAO;;;;;;0BAItB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;;0CACG,8OAAC;gCAAM,WAAU;0CAAqE;;;;;;0CACtF,8OAAC;gCACG,MAAK;gCACL,MAAK;gCACL,QAAQ;gCACR,WAAU;gCACV,aAAY;;;;;;;;;;;;kCAGpB,8OAAC;;0CACG,8OAAC;gCAAM,WAAU;0CAAqE;;;;;;0CACtF,8OAAC;gCACG,MAAK;gCACL,MAAK;gCACL,QAAQ;gCACR,WAAU;gCACV,aAAY;;;;;;;;;;;;;;;;;;0BAKxB,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;;;;;;;;;;;;;;;;AAIjB"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///Users/yigitcangenc/Github/Antigravity/web/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n"],"names":["module","exports","require","vendored","ReactDOM"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,QAAQ","ignoreList":[0]}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/plus.js","sources":["file:///Users/yigitcangenc/Github/Antigravity/web/node_modules/lucide-react/src/icons/plus.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('plus', __iconNode);\n\nexport default Plus;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAY,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACzC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAY,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;CAC3C;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,IAAA,CAAA,CAAA,KAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,8JAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}}]
}