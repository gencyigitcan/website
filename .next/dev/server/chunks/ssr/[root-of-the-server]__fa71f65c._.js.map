{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/yigitcangenc/Github/Antigravity/web/db/schema.ts"],"sourcesContent":["import { sqliteTable, text, integer } from 'drizzle-orm/sqlite-core';\n\nexport const cards = sqliteTable('cards', {\n    id: text('id').primaryKey().$defaultFn(() => crypto.randomUUID()),\n    title: text('title').notNull(),\n    description: text('description').notNull(),\n    subdomainUrl: text('subdomain_url').notNull(),\n    isActive: integer('is_active', { mode: 'boolean' }).default(true),\n    createdAt: integer('created_at', { mode: 'timestamp' }).$defaultFn(() => new Date()),\n    updatedAt: integer('updated_at', { mode: 'timestamp' }).$defaultFn(() => new Date()),\n});\n\nexport const admins = sqliteTable('admins', {\n    id: text('id').primaryKey().$defaultFn(() => crypto.randomUUID()),\n    email: text('email').notNull().unique(), // Changed from username to email\n    passwordHash: text('password_hash').notNull(),\n    createdAt: integer('created_at', { mode: 'timestamp' }).$defaultFn(() => new Date()), // Added created_at for sorting\n});\n\nexport const siteSettings = sqliteTable('site_settings', {\n    id: text('id').primaryKey().$defaultFn(() => 'default'),\n    heroTitle: text('hero_title').default('Yiğitcan Genç'),\n    heroDescription: text('hero_description').default('Yazılım geliştirici olarak ürettiğim projeleri ve yayınladığım uygulamaları burada bulabilirsiniz.'),\n    contactEmail: text('contact_email').default('yigitcangenc@gmail.com'),\n    updatedAt: integer('updated_at', { mode: 'timestamp' }).$defaultFn(() => new Date()),\n});\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AAAA;;AAEO,MAAM,QAAQ,IAAA,wKAAW,EAAC,SAAS;IACtC,IAAI,IAAA,2KAAI,EAAC,MAAM,UAAU,GAAG,UAAU,CAAC,IAAM,OAAO,UAAU;IAC9D,OAAO,IAAA,2KAAI,EAAC,SAAS,OAAO;IAC5B,aAAa,IAAA,2KAAI,EAAC,eAAe,OAAO;IACxC,cAAc,IAAA,2KAAI,EAAC,iBAAiB,OAAO;IAC3C,UAAU,IAAA,iLAAO,EAAC,aAAa;QAAE,MAAM;IAAU,GAAG,OAAO,CAAC;IAC5D,WAAW,IAAA,iLAAO,EAAC,cAAc;QAAE,MAAM;IAAY,GAAG,UAAU,CAAC,IAAM,IAAI;IAC7E,WAAW,IAAA,iLAAO,EAAC,cAAc;QAAE,MAAM;IAAY,GAAG,UAAU,CAAC,IAAM,IAAI;AACjF;AAEO,MAAM,SAAS,IAAA,wKAAW,EAAC,UAAU;IACxC,IAAI,IAAA,2KAAI,EAAC,MAAM,UAAU,GAAG,UAAU,CAAC,IAAM,OAAO,UAAU;IAC9D,OAAO,IAAA,2KAAI,EAAC,SAAS,OAAO,GAAG,MAAM;IACrC,cAAc,IAAA,2KAAI,EAAC,iBAAiB,OAAO;IAC3C,WAAW,IAAA,iLAAO,EAAC,cAAc;QAAE,MAAM;IAAY,GAAG,UAAU,CAAC,IAAM,IAAI;AACjF;AAEO,MAAM,eAAe,IAAA,wKAAW,EAAC,iBAAiB;IACrD,IAAI,IAAA,2KAAI,EAAC,MAAM,UAAU,GAAG,UAAU,CAAC,IAAM;IAC7C,WAAW,IAAA,2KAAI,EAAC,cAAc,OAAO,CAAC;IACtC,iBAAiB,IAAA,2KAAI,EAAC,oBAAoB,OAAO,CAAC;IAClD,cAAc,IAAA,2KAAI,EAAC,iBAAiB,OAAO,CAAC;IAC5C,WAAW,IAAA,iLAAO,EAAC,cAAc;QAAE,MAAM;IAAY,GAAG,UAAU,CAAC,IAAM,IAAI;AACjF"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/yigitcangenc/Github/Antigravity/web/lib/db.ts"],"sourcesContent":["import { drizzle } from 'drizzle-orm/better-sqlite3';\nimport Database from 'better-sqlite3';\nimport * as schema from '@/db/schema';\nimport path from 'path';\n\nconst dbPath = process.env.DATABASE_URL || 'sqlite.db';\nconst resolvedPath = path.isAbsolute(dbPath) ? dbPath : path.join(process.cwd(), dbPath);\n\nconst sqlite = new Database(resolvedPath);\nexport const db = drizzle(sqlite, { schema });\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,SAAS,QAAQ,GAAG,CAAC,YAAY,IAAI;AAC3C,MAAM,eAAe,4GAAI,CAAC,UAAU,CAAC,UAAU,SAAS,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAEjF,MAAM,SAAS,IAAI,sIAAQ,CAAC;AACrB,MAAM,KAAK,IAAA,wKAAO,EAAC,QAAQ;IAAE,QAAA;AAAO"}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///Users/yigitcangenc/Github/Antigravity/web/app/actions/auth.ts"],"sourcesContent":["'use server'\n\nimport { db } from '@/lib/db'\nimport { admins } from '@/db/schema'\nimport { eq } from 'drizzle-orm'\nimport bcrypt from 'bcryptjs'\nimport { cookies } from 'next/headers'\nimport { redirect } from 'next/navigation'\n\nexport async function login(prevState: any, formData: FormData) {\n    const email = formData.get('email') as string\n    const password = formData.get('password') as string\n\n    if (!email || !password) {\n        return { message: 'Email and password required' }\n    }\n\n    try {\n        const user = await db.select().from(admins).where(eq(admins.email, email)).get()\n\n        if (!user) {\n            return { message: 'Invalid credentials' }\n        }\n\n        const valid = await bcrypt.compare(password, user.passwordHash)\n\n        if (!valid) {\n            return { message: 'Invalid credentials' }\n        }\n\n        // Set session cookie\n        (await cookies()).set('admin_session', 'true', {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === 'production',\n            sameSite: 'strict',\n            maxAge: 60 * 60 * 24 // 1 day\n        })\n\n    } catch (e) {\n        console.error(e)\n        return { message: 'Internal server error' }\n    }\n\n    redirect('/admin/dashboard')\n}\n\nexport async function logout() {\n    (await cookies()).delete('admin_session')\n    redirect('/admin')\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;AAEO,eAAe,MAAM,SAAc,EAAE,QAAkB;IAC1D,MAAM,QAAQ,SAAS,GAAG,CAAC;IAC3B,MAAM,WAAW,SAAS,GAAG,CAAC;IAE9B,IAAI,CAAC,SAAS,CAAC,UAAU;QACrB,OAAO;YAAE,SAAS;QAA8B;IACpD;IAEA,IAAI;QACA,MAAM,OAAO,MAAM,+GAAE,CAAC,MAAM,GAAG,IAAI,CAAC,sHAAM,EAAE,KAAK,CAAC,IAAA,wKAAE,EAAC,sHAAM,CAAC,KAAK,EAAE,QAAQ,GAAG;QAE9E,IAAI,CAAC,MAAM;YACP,OAAO;gBAAE,SAAS;YAAsB;QAC5C;QAEA,MAAM,QAAQ,MAAM,4IAAM,CAAC,OAAO,CAAC,UAAU,KAAK,YAAY;QAE9D,IAAI,CAAC,OAAO;YACR,OAAO;gBAAE,SAAS;YAAsB;QAC5C;QAEA,qBAAqB;QACrB,CAAC,MAAM,IAAA,0IAAO,GAAE,EAAE,GAAG,CAAC,iBAAiB,QAAQ;YAC3C,UAAU;YACV,QAAQ,oDAAyB;YACjC,UAAU;YACV,QAAQ,KAAK,KAAK,GAAG,QAAQ;QACjC;IAEJ,EAAE,OAAO,GAAG;QACR,QAAQ,KAAK,CAAC;QACd,OAAO;YAAE,SAAS;QAAwB;IAC9C;IAEA,IAAA,iMAAQ,EAAC;AACb;AAEO,eAAe;IAClB,CAAC,MAAM,IAAA,0IAAO,GAAE,EAAE,MAAM,CAAC;IACzB,IAAA,iMAAQ,EAAC;AACb;;;IAxCsB;IAqCA;;AArCA,+OAAA;AAqCA,+OAAA"}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///Users/yigitcangenc/Github/Antigravity/web/app/admin/dashboard/layout.tsx"],"sourcesContent":["import { cookies } from 'next/headers'\nimport { redirect } from 'next/navigation'\nimport Link from 'next/link'\nimport { LayoutDashboard, Globe, LogOut, Settings } from 'lucide-react'\nimport { logout } from '@/app/actions/auth'\n\nexport default async function DashboardLayout({\n    children,\n}: {\n    children: React.ReactNode\n}) {\n    const cookieStore = await cookies()\n    const session = cookieStore.get('admin_session')\n\n    if (!session) {\n        redirect('/admin')\n    }\n\n    return (\n        <div className=\"min-h-screen flex bg-[var(--background)] text-[var(--foreground)] font-sans\">\n            {/* Sidebar */}\n            <aside className=\"w-64 border-r border-white/5 bg-black/5 backdrop-blur-xl flex flex-col fixed h-full z-10 hidden md:flex\">\n                <div className=\"p-6 border-b border-white/5\">\n                    <Link href=\"/\" className=\"flex items-center gap-2\">\n                        <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-pink-500 flex items-center justify-center text-sm font-bold text-white shadow-lg\">\n                            YG\n                        </div>\n                        <span className=\"font-serif text-lg tracking-wide text-fg-primary\">Admin<span className=\"text-pink-500\">Panel</span></span>\n                    </Link>\n                </div>\n\n                <nav className=\"flex-1 p-4 space-y-2\">\n                    <Link href=\"/admin/dashboard\" className=\"flex items-center gap-3 px-4 py-3 rounded-xl bg-white/5 text-fg-primary font-medium border border-white/5 shadow-sm\">\n                        <LayoutDashboard size={18} className=\"text-indigo-400\" />\n                        Projects\n                    </Link>\n                    <Link href=\"/admin/dashboard/settings\" className=\"flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/5 text-fg-secondary hover:text-fg-primary transition-all\">\n                        <Settings size={18} />\n                        Site Settings\n                    </Link>\n                    <a href=\"/\" target=\"_blank\" className=\"flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/5 text-fg-secondary hover:text-fg-primary transition-all\">\n                        <Globe size={18} />\n                        View Site\n                    </a>\n                </nav>\n\n                <div className=\"p-4 border-t border-white/5\">\n                    <form action={logout}>\n                        <button className=\"w-full flex items-center gap-2 px-4 py-3 rounded-xl hover:bg-red-500/10 text-red-400 hover:text-red-300 transition-all text-sm font-medium\">\n                            <LogOut size={16} />\n                            Sign Out\n                        </button>\n                    </form>\n                </div>\n            </aside>\n\n            {/* Main Content */}\n            <main className=\"flex-1 md:ml-64 p-8 overflow-y-auto\">\n                <div className=\"max-w-5xl mx-auto\">\n                    {children}\n                </div>\n            </main>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;AAEe,eAAe,gBAAgB,EAC1C,QAAQ,EAGX;IACG,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,MAAM,UAAU,YAAY,GAAG,CAAC;IAEhC,IAAI,CAAC,SAAS;QACV,IAAA,iMAAQ,EAAC;IACb;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAM,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC,0LAAI;4BAAC,MAAK;4BAAI,WAAU;;8CACrB,8OAAC;oCAAI,WAAU;8CAA6I;;;;;;8CAG5J,8OAAC;oCAAK,WAAU;;wCAAmD;sDAAK,8OAAC;4CAAK,WAAU;sDAAgB;;;;;;;;;;;;;;;;;;;;;;;kCAIhH,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,0LAAI;gCAAC,MAAK;gCAAmB,WAAU;;kDACpC,8OAAC,+OAAe;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAAoB;;;;;;;0CAG7D,8OAAC,0LAAI;gCAAC,MAAK;gCAA4B,WAAU;;kDAC7C,8OAAC,sNAAQ;wCAAC,MAAM;;;;;;oCAAM;;;;;;;0CAG1B,8OAAC;gCAAE,MAAK;gCAAI,QAAO;gCAAS,WAAU;;kDAClC,8OAAC,6MAAK;wCAAC,MAAM;;;;;;oCAAM;;;;;;;;;;;;;kCAK3B,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAK,QAAQ,gIAAM;sCAChB,cAAA,8OAAC;gCAAO,WAAU;;kDACd,8OAAC,oNAAM;wCAAC,MAAM;;;;;;oCAAM;;;;;;;;;;;;;;;;;;;;;;;0BAQpC,8OAAC;gBAAK,WAAU;0BACZ,cAAA,8OAAC;oBAAI,WAAU;8BACV;;;;;;;;;;;;;;;;;AAKrB"}}]
}